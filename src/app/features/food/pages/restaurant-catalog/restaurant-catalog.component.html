<div class="restaurant-catalog min-h-screen bg-gray-50">

  <!-- Navbar minimalista -->
  <nav class="navbar bg-white shadow-sm sticky top-0 z-50 px-4 py-3">
    <div class="max-w-screen-xl mx-auto">
      <!-- Buscador centrado -->
      <div class="search-container">
        <div class="relative">
          <input
            type="text"
            placeholder="Buscar restaurantes..."
            (input)="onSearch($event)"
            class="w-full px-4 py-2 pl-10 pr-4 text-sm border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-[#0F456E] focus:border-transparent">
          <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
          </svg>
        </div>
      </div>
    </div>
  </nav>

  <!-- Espacio para futura barra de filtros adicionales -->
  <div class="filters-placeholder h-2 bg-gray-50"></div>

  <!-- Barra de categorÃ­as/especialidades (scroll horizontal) -->
  <div class="specialties-bar bg-white border-b border-gray-200 sticky top-[56px] z-40">
    <div class="flex gap-2 overflow-x-auto px-4 py-3 scrollbar-hide">
      @for (specialty of specialties(); track specialty.name) {
        <button
          (click)="filterBySpecialty(specialty.name)"
          class="specialty-chip grid grid-cols-[auto_1fr] items-center gap-2 px-1 py-1 rounded-xl border border-gray-200 bg-white shadow-sm transition-all"
          [class.active]="selectedSpecialty() === specialty.name">

          <!-- ICONO GRANDE CON CONTENEDOR FIJO -->
          <div class="w-11 h-11 flex items-center justify-center">
            <img
              [src]="specialty.iconUrl"
              [alt]="specialty.name"
              class="w-full h-full object-contain"
              loading="lazy">
          </div>

          <!-- TEXTO CENTRADO -->
          <span class="text-base font-medium leading-tight">
            {{ specialty.name }}
          </span>
        </button>
      }
    </div>
  </div>

  <!-- Lista de restaurantes -->
  <div class="restaurants-container px-4 py-4">

    <!-- Loading state -->
    @if (isLoading()) {
      <div class="flex justify-center items-center py-20">
        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-[#0F456E]"></div>
      </div>
    }

    <!-- Restaurantes -->
    @else if (filteredRestaurants().length > 0) {
      <div class="space-y-4">
        @for (restaurant of filteredRestaurants(); track restaurant.id) {
          <app-restaurant-card
            [restaurant]="restaurant"
            (click)="onRestaurantClick(restaurant)" />
        }
      </div>
    }

    <!-- Sin resultados -->
    @else {
      <div class="text-center py-20">
        <p class="text-gray-500 text-lg">No se encontraron restaurantes</p>
        @if (selectedSpecialty()) {
          <button
            (click)="filterBySpecialty(selectedSpecialty()!)"
            class="mt-4 text-[#0F456E] font-semibold">
            Ver todos los restaurantes
          </button>
        }
      </div>
    }
  </div>

</div>
